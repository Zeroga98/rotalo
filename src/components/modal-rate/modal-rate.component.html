<custom-modal [title]="title" class="modal-theme" (close)="closeModal()">
	<div modal-header class="container-header">
	</div>
	<div modal-body class="container-body" [ngSwitch]="stateRequest">
		<div *ngSwitchCase="statesRequestEnum.initial" class="container-rating">
			<div class="profile">
				<div class="thumb"> 
			        <img [src]="'/assets/img/profile-no-image.png'" width="64">
				</div>
				<p *ngIf="rateSent">Ya has calificado a <span class="semibold">{{userName}}</span></p>
				<p *ngIf="!rateSent">
					<span class="bold block">¿Cómo te fue?</span>
					<span *ngIf="!rateSent">Califica a </span><span class="bold">{{userName}}</span> como {{type}}
				</p>
			</div>
			<div class="rating">
				<star-rating (checked)="rate($event)" [rating]="rateValue"></star-rating>
			</div>
			<div class="comments">
				<textarea placeholder="Agregar un comentario..." (blur)="onBlurText($event)" [readonly]="config.comment">{{comment || '' }}</textarea>
			</div>
		</div>
		<div *ngSwitchCase="statesRequestEnum.loading">
			<custom-spinner></custom-spinner>
		</div>
		<div *ngSwitchCase="statesRequestEnum.success"  class="container-text container-text-success">
			<div>
				<span>{{msgRequest}}</span>
			</div>
		</div>
		<div *ngSwitchCase="statesRequestEnum.error" class="container-text container-text-error">
			<div>
				<span>{{msgRequest}}</span>
			</div>
		</div>
	</div>
	<div modal-footer class="container-actions" *ngIf="stateRequest == statesRequestEnum.initial && !config['seller-rate']">
		<custom-button text="Calificar" [disabled]= "!isRateButtonAvailable" (click)= "ratePurchase()"></custom-button>
	</div>
</custom-modal>