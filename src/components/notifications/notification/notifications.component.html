<div class="header-notifications">
  <p>
    Notificaciones
  </p>
</div>
<div
infiniteScroll [infiniteScrollDistance]="1"  (scrolled)="scrolledInfinite()" [scrollWindow]="false"
class="scroll conversation">
  <div
   #scrollMe class="conversation-container">
    <div class="notifications-theme" *ngIf="messages">

      <!-- Inicio ngFor para notificaciones -->
      <div *ngFor="let message of  messages">

        <!-- INICIO NOTIFICACIÓN NUEVA OFERTA -->
        <div *ngIf="message.tipoNotificacion == 'new_offer'" class="notifications-item">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>

          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
            (click)="goToDetail(message)" class="notification-img ">
               <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <p class="notification-text">
                <span>{{message.oferta.nombreUsuario}}</span> ha hecho una oferta
                <span *ngIf="message.producto">
                  <span *ngIf="message.producto.tipoVenta !== 'SUBASTA'">para tu</span>
                  <span *ngIf="message.producto.tipoVenta === 'SUBASTA'">en tu subasta</span>
                  <span class="highlight bold clickable" (click)="goToDetail(message)">
                    {{(message.producto.nombreProducto )+ ': ' + (message.oferta.monto | currency:'$' | removeDigits) +
                    ' pesos.'}}
                  </span>
                </span>
              </p>
              <p class="notification-text" *ngIf="message.status">{{message.status}}</p>
            </div>
          </div>

          <div class="notification-buttons" *ngIf="message.producto && message.producto.tipoVenta !== 'SUBASTA' && !message.status">
            <div class="button-item">
              <button mat-flat-button color="primary" class="button button-secondary" (click)="acceptOffer(message)">Aceptar</button>
            </div>
            <div class="button-item">
              <button mat-stroked-button class="button" (click)="declineOffer(message)">Rechazar</button>
            </div>
          </div>
          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo }}
          </small>
        </div>
        <!-- FIN NOTIFICACIÓN NUEVA OFERTA -->

        <!-- INICIO NOTIFICACIÓN OFERTA ACEPTADA -->
        <div *ngIf="message.tipoNotificacion == 'offer_accepted'" class="notifications-item">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
            (click)="goToDetail(message)" class="notification-img ">
               <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <p class="notification-text">Tu oferta ha sido aceptada
                <span class="highlight bold clickable" (click)="goToDetail(message)">
                  {{(message.producto.nombreProducto) + ': ' + (message.oferta.monto | currency:'$' | removeDigits) + '
                  pesos.'}}</span>
              </p>
              <p class="notification-text" *ngIf="message.status">{{message.status}}</p>
            </div>
          </div>
          <div class="notification-buttons" *ngIf="!message.status">
            <div class="button-item">
              <button mat-flat-button color="primary"  class="button button-secondary" (click)="buyProduct(message)">Comprar</button>
            </div>
            <div class="button-item">
              <button  mat-stroked-button class="button" (click)="regretOffer(message)">Cancelar</button>
            </div>
          </div>
          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo }}
          </small>
        </div>
        <!-- FIN NOTIFICACIÓN OFERTA ACEPTADA -->

        <!-- INICIO NOTIFICACIÓN OFERTA RECHAZADA -->
        <div *ngIf="message.tipoNotificacion == 'offer_declined'" class="notifications-item">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
            (click)="goToDetail(message)" class="notification-img ">
               <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <p class="notification-text">Tu oferta ha sido rechazada
                <span class="highlight bold clickable" (click)="goToDetail(message)">{{(message.producto.nombreProducto) +
                  ' ' +(message.oferta.monto | currency:'$' | removeDigits) + ' pesos.'}}</span>
              </p>
            </div>
          </div>
          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo }}
          </small>
        </div>
        <!-- FIN NOTIFICACIÓN OFERTA RECHAZADA -->

        <!-- INICIO NOTIFICACIÓN OFERTA CANCELADA -->
        <div *ngIf="message.tipoNotificacion ==  'offer_regretted' && message.producto" class="notifications-item">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
            (click)="goToDetail(message)" class="notification-img ">
               <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <p class="notification-text">
                <span class="highlight bold">{{message.oferta.nombreUsuario}}</span> ha cancelado su oferta
                <span *ngIf="message.producto.tipoVenta === 'SUBASTA'">en tu subasta</span>
                <span class="highlight bold clickable" (click)="goToDetail(message)">{{(message.producto.nombreProducto)
                  + ': '
                  + (message.oferta.monto | currency:'$' | removeDigits) + ' pesos.'}}</span>
              </p>
            </div>
          </div>
          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo }}
          </small>
        </div>
        <!-- FIN NOTIFICACIÓN OFERTA CANCELADA -->

        <!-- INICIO NOTIFICACIÓN NUEVA COMPRA -->
        <div *ngIf="message.tipoNotificacion == 'new_purchase'" class="notifications-item">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
            (click)="goToDetail(message)" class="notification-img ">
               <div
               [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <span *ngIf="!message.informacionAdicional && message.producto">
                <p class="notification-text">
                  <span>{{message.compra.nombreUsuario}}</span>
                  <span *ngIf="message.producto.tipoVenta === 'GRATIS'"> te ha pedido </span>
                  <span *ngIf="message.producto.tipoVenta !== 'GRATIS'"> ha comprado el producto: </span>
                  <span class="highlight bold clickable" (click)="goToDetail(message)">{{(message.producto.nombreProducto) + '.' }}</span>
                  <br>
                  <span>${{(message.compra.monto | currency:' ' | removeDigits) }}</span>
                  <span *ngIf="message.compra.unidadesCompradas"> x
                    {{message.compra.unidadesCompradas}} 
                    <span *ngIf="message.compra.unidadesCompradas==1">unidad</span>
                    <span *ngIf="message.compra.unidadesCompradas>=2">unidades</span>
                  </span>
                  <br>
                  <span *ngIf="message.compra.unidadesCompradas">
                    Total: ${{message.compra.unidadesCompradas * message.compra.monto | currency:' ' | removeDigits}}.
                  </span>
                  <br><br>
                  <span class="highlight bold">Pago: {{paymentTypes[message.compra.tipoPago]}}</span>
                  <br>
                  <span class="highlight bold" *ngIf="message.status">{{message.status}}</span>
                </p>
              </span>
              <span *ngIf="message.informacionAdicional">
                <p class="notification-text align">
                  <span class="highlight">{{message.nombreEmisor}}</span>
                  <span> ha realizado una compra por
                    <span class="highlight">
                      ${{returnTotalPurchase(message) | currency:" " | removeDigits}}
                    </span>
                    en la tienda Bancolombia.
                  </span>
                </p>
              </span>
            </div>
          </div>
          <div class="notification-buttons" *ngIf="message.producto && !message.informacionAdicional && !message.status">
            <div class="button-item">
              <button mat-flat-button color="primary" (click)="acceptPurchase(message)">
                <span *ngIf="message.producto.tipoVenta === 'GRATIS'">Regalar</span>
                <span *ngIf="message.producto.tipoVenta !== 'GRATIS'">Recibí el dinero</span>
              </button>
            </div>
            <div class="button-item">
              <button mat-stroked-button (click)="declinePurchase(message)">
                <span *ngIf="message.producto.tipoVenta === 'GRATIS'">No Regalar</span>
                <span *ngIf="message.producto.tipoVenta !== 'GRATIS'">Cancelar Compra</span>
              </button>
            </div>
          </div>
          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo }}
          </small>
        </div>
        <!-- FIN NOTIFICACIÓN NUEVA COMPRA -->

        <!-- INICIO NOTIFICACIÓN COMPRA ACEPTADA -->
        <purchase-accepted (notificationDelete)='deleteNotification($event)' *ngIf="message.tipoNotificacion == 'purchase_accepted'"
          [notification]="message">
        </purchase-accepted>
        <!-- INICIO NOTIFICACIÓN COMPRA ACEPTADA -->


        <!-- INICIO NOTIFICACIÓN COMPRA RECHAZADA -->
        <div *ngIf="message.tipoNotificacion == 'purchase_declined'" class="notifications-item">

          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
            (click)="goToDetail(message)" class="notification-img ">
               <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <span *ngIf="!message.informacionAdicional && message.producto">
                <p class="notification-text" *ngIf="message.producto.tipoVenta !== 'GRATIS'">
                  <span class="highlight bold">{{message.producto.nombreUsuario}}</span>
                  <span> ha cancelado tu compra</span>
                  <span class="highlight bold clickable" (click)="goToDetail(message)">
                    {{(message.producto.nombreProducto) + ': ' + (message.compra.monto | currency:'$' | removeDigits) +
                    '
                    pesos.'}}
                  </span>
                </p>
                <p class="notification-text" *ngIf="message.producto.tipoVenta === 'GRATIS'">
                  <span class="highlight bold">{{message.producto.nombreUsuario}}</span>
                  <span> No te ha regalado el artículo</span>
                  <span class="highlight bold">
                    {{(message.producto.nombreProducto) + ': ' + (message.compra.monto | currency:'$' | removeDigits) +
                    '
                    pesos.'}}
                  </span>
                </p>
              </span>
              <span *ngIf="message.informacionAdicional">
                <p class="notification-text align">
                  <span>Tu compra por
                    ${{returnTotalPurchase(message) | currency:" " | removeDigits}} 
                    en la tienda Bancolombia ha sido rechazada.</span>
                </p>
              </span>
            </div>
          </div>
          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo }}
          </small>
        </div>
        <!-- INICIO NOTIFICACIÓN COMPRA RECHAZADA -->


        <!--INICIO NOTIFICACIÓN PRODUCTO EXPIRADO -->
        <div *ngIf="message.tipoNotificacion == 'product_expired'">
          <div class="notifications-item" *ngIf="!message.accionExpirado">
            <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
            </span>
            <div class="notification">
              <div
              [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
              (click)="goToDetail(message)" class="notification-img ">
                 <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
              </div>
              <div class="notification-body">
                <p class="notification-text">Tu publicación
                  <span  (click)="goToDetail(message)" class="highlight bold">{{message.producto.nombreProducto}}</span>
                  se ha vencido.
                </p>
              </div>
            </div>

            <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo}}
            </small>
          </div>
        </div>


        <!--Cambio de toda la notificacion -->
        <!--INICIO NOTIFICACIÓN PRODUCTO EXPIRADO -->
        <div class="notifications-item" *ngIf="message.tipoNotificacion == 'product_expired' && message.accionExpirado">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
            (click)="goToDetail(message)" class=" notification-img">
              <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img">
              </div>
            </div>
            <div class="notification-body">
              <div class="expired-container" *ngIf="message.accionExpirado === 'new' && message.accionExpirado && !message.step">
                <div class="intro main-text">
                  <p class="notification-text">Tu publicación
                    <span class="highlight bold clickable" (click)="goToDetail(message)">{{message.producto.nombreProducto}}</span>
                    se acaba de vencer.
                  </p>

                  <p class="highlight bold notification-text">
                    ¿La quieres republicar?
                  </p>

                  <div class="notification-buttons">
                    <div class="button-item">
                      <button mat-flat-button color="primary" (click)="republish(message)" class="gtmRepublicar button button-primary">Si</button>
                    </div>
                    <div class="button-item">
                      <button mat-stroked-button (click)="nextStep(message)">No</button>
                    </div>

                  </div>
                </div>
              </div>

              <div class="expired-container" *ngIf="message.accionExpirado === 'new' && message.step">
                <div class="intro main-text">
                  <p class="highlight bold notification-text">Cuéntanos por qué
                  </p>
                  <form class="form-theme">
                    <div class="material-design">
                      <div class="md-radio">
                        <input [value]="'in'" [(ngModel)]="message.type" id="in" type="radio" name="option" checked>
                        <label for="in">Lo vendí en Rótalo</label>
                      </div>
                      <div class="md-radio">
                        <input [value]="'out'" [(ngModel)]="message.type" id="out" type="radio" name="option">
                        <label for="out">Lo vendí por fuera de Rótalo</label>
                      </div>
                      <div class="md-radio">
                        <input [value]="'do_not_republish'" [(ngModel)]="message.type" id="do_not_republish" type="radio" name="option">
                        <label for="do_not_republish">No lo quiero publicar más</label>
                      </div>
                    </div>
                  </form>

                  <div class="notification-buttons" *ngIf="message.accionExpirado === 'new'">
                    <div class="button-item">
                      <button mat-flat-button color="primary" (click)="updateSellUnknow(message)" class="gtmRepublicar button button-primary">Enviar</button>
                    </div>
                  </div>
                </div>
              </div>

              <div *ngIf="message.accionExpirado !== 'new'">
                <p class="notification-text">Tu publicación
                      <span class="highlight bold clickable" (click)="goToDetail(message)">{{message.producto.nombreProducto}}</span>
                      se acaba de vencer.
                </p>
                <div *ngIf="message.accionExpirado === 'republished'">
                  <p class="notification-text">
                    Has republicado tu producto.
                  </p>
                </div>
                <div *ngIf="message.accionExpirado === 'sell_unknow_out'">
                  <p class="notification-text">
                    Tu producto ha sido marcado como vendido fuera de Rótalo.
                  </p>
                </div>
                <div *ngIf="message.accionExpirado === 'sell_unknow_in'">
                  <p class="notification-text">
                    Tu producto ha sido marcado como vendido en Rótalo. Ya no recibirás más notificaciones de éste.
                  </p>
                </div>
                <div *ngIf="message.accionExpirado === 'do_not_republish'">
                    <p class="notification-text">
                        Tu publicación no se republicó. Si cambias de opinión lo puedes hacer desde artículos rotados del Centro Rótalo.
                    </p>
                  </div>
              </div>

            </div>
          </div>
          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo}}
          </small>
        </div>

        <!--FIN NOTIFICACIÓN PRODUCTO EXPIRADO -->


        <!--INICIO NOTIFICACIÓN PRODUCTO RECIBIDO -->
        <div *ngIf="message.tipoNotificacion == 'product_received'" class="notifications-item">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
            (click)="goToDetail(message)" class="notification-img ">
               <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <p class="notification-text">
                Tu producto
                <span class="highlight bold clickable" (click)="goToDetail(message)">{{(message.producto.nombreProducto)
                  + ': '
                  + (message.producto.precio | currency:'$' | removeDigits) + ' pesos'}}</span>
                ha sido recibido.
              </p>
            </div>
          </div>
          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo }}
          </small>
        </div>
        <!--FIN NOTIFICACIÓN PRODUCTO RECIBIDO -->


        <!-- INICIO NOTIFICACIÓN NUEVO SUFI -->
        <div *ngIf="message.tipoNotificacion == 'new_sufi'" class="notifications-item">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
            (click)="goToDetail(message)" class="notification-img ">
               <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <p class="notification-text">
                <span class="highlight bold">{{message['sufi-loan'].nombreUsuario}}</span>
                quiere comprar
                <span class="highlight bold clickable" (click)="goToDetail(message)">{{(message.producto.nombreProducto) +
                  ': ' + (message.producto.precio | currency:'$' | removeDigits) + ' pesos'}}</span>
                y para ello ha solicitado un crédito Sufi.
              </p>
            </div>
          </div>
          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo }}
          </small>
        </div>
        <!-- FIN NOTIFICACIÓN NUEVO SUFI -->

        <!-- INICIO NOTIFICACIÓN SUFI APROBADO -->
        <div *ngIf="message.tipoNotificacion == 'sufi_approved'" class="notifications-item">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
            (click)="goToDetail(message)" class="notification-img ">
               <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <p class="notification-text">
                Felicitaciones! Tu crédito con Sufi para la compra del producto
                <span class="highlight bold clickable" (click)="goToDetail(message)">
                  {{(message.producto.nombreProducto) + ': ' + (message.producto.precio | currency:'$' | removeDigits) + '
                  pesos '}}
                </span>
                ha sido aprobada.
              </p>
            </div>
          </div>
          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo }}
          </small>
        </div>
        <!-- FIN NOTIFICACIÓN SUFI APROBADO -->

        <!-- INICIO NOTIFICACIÓN SUFI RECHAZADO -->
        <div *ngIf="message.tipoNotificacion == 'sufi_declined'" class="notifications-item">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
             (click)="goToDetail(message)" class="notification-img ">
               <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <p class="notification-text">
                Tu solicitud de crédito Sufi para la compra del producto
                <span class="highlight bold clickable" (click)="goToDetail(message)">
                  {{(message.producto.nombreProducto) + ': ' + (message.producto.precio | currency:'$' | removeDigits) + '
                  pesos '}}
                </span>
                no fue aprobada.
              </p>
            </div>
          </div>
          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo }}
          </small>
        </div>
        <!-- FIN NOTIFICACIÓN SUFI RECHAZADO -->

        <!-- INICIO NOTIFICACIÓN SUBASTA GANADA -->
        <div *ngIf="message.tipoNotificacion == 'auction_assigned'" class="notifications-item">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
            (click)="goToDetail(message)" class="notification-img ">
               <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <p class="notification-text">Has ganado la subasta
                <span class="highlight bold clickable" (click)="goToDetail(message)">
                  {{(message.producto.nombreProducto) + ': ' + (message.oferta.monto | currency:'$' | removeDigits) + '
                  pesos.'}}
                </span>
              </p>
              <p class="notification-text" *ngIf="message.status">{{message.status}}</p>
              <div class="notification-buttons" *ngIf="!message.status">
                  <div class="button-item">
                    <button mat-flat-button color="primary" (click)="buyProduct(message)">Comprar</button>
                  </div>
                  <div class="button-item">
                    <button mat-stroked-button (click)="regretOffer(message)">Cancelar</button>
                  </div>
                </div>
            </div>
          </div>

          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo }}
          </small>
        </div>
        <!-- FIN NOTIFICACIÓN SUBASTA GANADA -->

        <!-- INICIO NOTIFICACIÓN SUBASTA FINALIZADA -->
        <div *ngIf="message.tipoNotificacion == 'auction_finished'" class="notifications-item">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
             (click)="goToDetail(message)" class="notification-img ">
               <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <p class="notification-text">
                <span class="highlight bold">{{message.oferta.nombreUsuario}}</span> ha ganado tu subasta
                <span class="highlight bold clickable" (click)="goToDetail(message)">
                  {{(message.producto.nombreProducto) + ': ' + (message.producto.precio | currency:'$' | removeDigits)
                  + '
                  pesos.'}}
                </span>
              </p>
            </div>
          </div>
          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo }}
          </small>
        </div>
        <!-- FIN NOTIFICACIÓN SUBASTA FINALIZADA -->

        <!-- INICIO NOTIFICACIÓN SUBASTA SOBREPASADA -->
        <div *ngIf="message.tipoNotificacion == 'auction_overtaken'" class="notifications-item">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
            (click)="goToDetail(message)" class="notification-img ">
               <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <p class="notification-text">Han superado tu oferta en la subasta del producto
                <span class="highlight bold clickable" (click)="goToDetail(message)">
                  {{(message.producto.nombreProducto) + ':' + (message.producto.precio | currency:'$' | removeDigits) + '
                  pesos.'}}
                </span>
              </p>
            </div>
          </div>
          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo }}
          </small>
        </div>
        <!-- FIN NOTIFICACIÓN SUBASTA SOBREPASADA -->

        <!-- INICIO NOTIFICACIÓN CALIFICACIÓN COMPRA -->
        <div *ngIf="message.tipoNotificacion == 'qualify_purchase'">
          <rating-notification (notificationDelete)='deleteNotification($event)' class="notifications-theme"
            [notification]="message"></rating-notification>
        </div>
        <!-- FIN NOTIFICACIÓN CALIFICACIÓN COMPRA -->

        <!-- INICIO NOTIFICACIÓN INFORMACION DEL VEHICULO -->
        <div *ngIf="message.tipoNotificacion == 'vehicles_not_updated'" class="notifications-item">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
            (click)="goToDetail(message)" class="notification-img ">
                <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <p class="notification-text">
                ¡Hey, tenemos algo que contarte! Ahora puedes agregar detalles a la publicación de tu casa  y apartamento, porque
                como
                sabes, todo entra por los ojos.
              </p>
            </div>
          </div>
          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo}}
          </small>
        </div>
        <!-- FIN NOTIFICACIÓN INFORMACION DEL VEHICULO -->

         <!-- INICIO NOTIFICACIÓN WHATSAPP -->
         <div *ngIf="message.tipoNotificacion == 'new_whatsapp_functionality'" class="notifications-item">
            <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
            </span>
            <div class="notification">
              <div
              [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
              (click)="goToDetail(message)" class="notification-img ">
                  <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
              </div>
              <div class="notification-body">
                <p class="notification-text">
                  Sabías que ahora podrás compartir por WhatsApp los artículos que más te gusten de Rótalo!
                </p>
              </div>
            </div>
            <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo}}
            </small>
          </div>
          <!-- FIN NOTIFICACIÓN WHATSAPP -->
  
        <!-- INICIO NOTIFICACIÓN OFERTA RECHAZADA -->
        <div *ngIf="message.tipoNotificacion == 'first_interests_association'" class="notifications-item">
          <span (click)='deleteNotification(message.idNotificacion)' class="icon-close">
          </span>
          <div class="notification">
            <div
            [ngClass]="message.fotoNotificacion && !message.fotoNotificacion.includes('svg') ?  'img-round': ''"
            (click)="goToDetail(message)" class="notification-img ">
                <div [ngStyle]="{'background-image': 'url(' + message.fotoNotificacion + ')'}" class="thumbnail-img"></div>
            </div>
            <div class="notification-body">
              <p class="notification-text">Tus gustos y aficiones nos ayudan a ofrecerte los productos rotados más afines y
                encontrar usuarios
                que comparten tus intereses. ¡Sigue rotando!
                <span *ngIf="message.interes && message.interes.tieneIntereses" class="highlight bold clickable" (click)="goToHobbies()">
                  Has seleccionado tus intereses.
                </span>
              </p>
              <div *ngIf="!message.interes || !message.interes.tieneIntereses" class="notification-buttons">
                <div class="button-item">
                  <button mat-flat-button color="primary" class="button button-secondary" (click)="goToHobbies()">
                    <span>Aceptar</span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <small class="notification-date">{{message.fechaHora | amLocale:'es' | amTimeAgo}}
          </small>
        </div>
        <!-- FIN NOTIFICACIÓN OFERTA RECHAZADA -->
      </div>

    </div>
  </div>
  <custom-spinner *ngIf="showSpinner"></custom-spinner>
</div>

 <!--
<div *ngIf='messages.length > 0' class="button-container">
 <a (click)='loadMoreNotification()'>Ver más</a>
  <button (click)="loadMoreNotification()" mat-icon-button>
    <div class="arrow-icon"></div>
 </button>
</div>
-->

<div *ngIf='!showSpinner && messages.length == 0' class="button-container">
  <p class="message">
    Por ahora no tienes notificaciones
  </p>
</div>
