<div class="notifications-item">
  <span (click)='deleteNotification(notification.idNotificacion)' class="icon-close">
  </span>
  <div class="notification">

    <div
    [ngClass]="notification.fotoNotificacion && !notification.fotoNotificacion.includes('svg') ?  'img-round': ''"
    (click)="goToDetail(notification)" class="notification-img">
        <div [ngStyle]="{'background-image': 'url(' + notification.fotoNotificacion + ')'}" class="thumbnail-img"></div>
    </div>
    <div *ngIf="!notification.informacionAdicional && notification.producto" class="notification-body">
      <p class="notification-text" *ngIf="notification.producto.tipoVenta !== 'GRATIS'">
        <span>Se ha registrado tu compra a 
          {{notification.producto.nombreUsuario}}
           de </span>
        <span class="highlight bold clickable" (click)="goToDetail(notification)">
          {{ notification.producto.nombreProducto + '. '}}
        </span>
        <br>
        <span>Precio: ${{ (notification.compra.monto | currency:' ' | removeDigits) }}</span>
        <span *ngIf="notification.compra.unidadesCompradas"> x {{notification.compra.unidadesCompradas}} 
            <span *ngIf="notification.compra.unidadesCompradas==1">unidad</span>
            <span *ngIf="notification.compra.unidadesCompradas>=2">unidades</span>
        </span>
        <br>
        <span *ngIf="notification.compra.unidadesCompradas">
          Total: ${{notification.compra.unidadesCompradas * notification.compra.monto | currency:' ' | removeDigits}}
        </span>

      </p>
      <p class="notification-text" *ngIf="notification.producto.tipoVenta === 'GRATIS'">
        <span>Has pedido a {{notification.producto.nombreUsuario}} el artículo</span>
        <span class="highlight bold clickable" (click)="goToDetail(notification)">
          {{ notification.producto.nombreProducto + ': ' + (notification.compra.monto | currency:'$' | removeDigits) +
          ' pesos.'}}
        </span>
      </p>

      <p class="notification-text" *ngIf="notification.status" [innerHTML]="notification.status"></p>
    </div>
    <div *ngIf="notification.informacionAdicional" class="notification-body">
      <span>
        <p class="notification-text align">
          <span>Tu compra por
            <span class="highlight">
              ${{amountPurchase | currency:" " | removeDigits}}
            </span>
            en la tienda Bancolombia se ha realizado exitosamente.
          </span>
        </p>
      </span>
    </div>
  </div>
  <div class="notification-buttons" *ngIf="!notification.informacionAdicional && notification.producto && !notification.status">
    <div class="button-item align-right">
      <button [innerHTML]="'Recibí el artículo'" mat-flat-button color="primary" class="button button-secondary gtmCentrRotRecibiProducto"
        (click)="productReceived(notification.idNotificacion)">
      </button>
    </div>
  </div>

  <small class="notification-date">
    {{notification.fechaHora | amLocale:'es' | amTimeAgo }}
  </small>
</div>
