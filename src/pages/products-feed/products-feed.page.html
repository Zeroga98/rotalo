<div class="md-overlay"></div>
<!--  <div class="md-overlay-red"></div>-->

<modal-shareProduct class="md-modal-center md-effect-1" id="custom-modal-2"></modal-shareProduct>
<!-- <modal-ticket [coupon] = "couponService" class="md-modal-center md-effect-1 md-modal-coupon" id="custom-modal-3"></modal-ticket> -->

<subcategory-filter *ngIf="!showBanner || configFiltersSubcategory" [config]="configFiltersSubcategory"
  [country]="countrySelected" (onFilterBySellType)="filteBySellType($event)" (onFilterBySort)="filterBySort($event)"
  (onFilterByCity)="filterByCity($event)" (onFilterByState)="filterByState($event)"></subcategory-filter>
<ngx-carousel class="carousel-theme mobile" *ngIf="showBanner && !configFiltersSubcategory" [inputs]="carouselConfig">
  <ngx-item NgxCarouselItem *ngFor="let image of imagesBanner">
    <div
      [ngClass]="{'gtmSliderSufiSimuladorCProductos': image['url-photo-mobile'] && image['url-photo-mobile'].includes('NOLIBERESLOBESTIA'),
        'gtmSliderColombiaQrProductos': image['url-photo-mobile'] && image['url-photo-mobile'].includes('PERSONAS_PREMIADO'),
        'gtmSliderAgrTranqComprarMiSoat': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_sufi_soat'),
        'gtmSliderDisfrazHalloween': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_halloween'),
        'gtmProductosSufiSliderFeriaVehiculosSufi': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_tienda_sufi'),
        'gtmSliderMisAliadosInmuebles': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_mis_aliados'),
        'gtmSliderOfertasTiendaCorporativa': image['url-photo-desktop'] && image['url-photo-desktop'].includes('DescuentoDesktop')
      }"
      class="item-banner">
      <a [ngClass]="{'gtmSliderSufiSimuladorCProductos': image['url-photo-mobile'] && image['url-photo-mobile'].includes('NOLIBERESLOBESTIA'),
        'gtmSliderColombiaQrProductos': image['url-photo-mobile'] && image['url-photo-mobile'].includes('PERSONAS_PREMIADO'),
        'gtmSliderAgrTranqComprarMiSoat': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_sufi_soat'),
        'gtmSliderDisfrazHalloween': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_halloween'),
        'gtmProductosSufiSliderFeriaVehiculosSufi': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_tienda_sufi'),
        'gtmSliderMisAliadosInmuebles': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_mis_aliados'),
        'gtmSliderOfertasTiendaCorporativa': image['url-photo-desktop'] && image['url-photo-desktop'].includes('DescuentoDesktop')
      }"
        target="_blank" *ngIf="image['link']" [href]="image['link']">
        <img
          [ngClass]="{'gtmSliderSufiSimuladorCProductos': image['url-photo-mobile'] && image['url-photo-mobile'].includes('NOLIBERESLOBESTIA'),
        'gtmSliderColombiaQrProductos': image['url-photo-mobile'] && image['url-photo-mobile'].includes('PERSONAS_PREMIADO'),
        'gtmSliderAgrTranqComprarMiSoat': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_sufi_soat'),
        'gtmSliderDisfrazHalloween': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_halloween'),
        'gtmProductosSufiSliderFeriaVehiculosSufi': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_tienda_sufi'),
        'gtmSliderMisAliadosInmuebles': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_mis_aliados'),
        'gtmSliderOfertasTiendaCorporativa': image['url-photo-desktop'] && image['url-photo-desktop'].includes('DescuentoDesktop')}"
          [src]="image['url-photo-mobile']">
      </a>
      <img
        [ngClass]="{'gtmSliderSufiSimuladorCProductos': image['url-photo-mobile'] && image['url-photo-mobile'].includes('NOLIBERESLOBESTIA'),
        'gtmSliderColombiaQrProductos': image['url-photo-mobile'] && image['url-photo-mobile'].includes('PERSONAS_PREMIADO'),
        'gtmSliderAgrTranqComprarMiSoat': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_sufi_soat'),
        'gtmSliderDisfrazHalloween': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_halloween'),
        'gtmProductosSufiSliderFeriaVehiculosSufi': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_tienda_sufi')}"
        *ngIf="!image['link']" [src]="image['url-photo-mobile']">
    </div>
  </ngx-item>
  <span NgxCarouselPrev class="gtmBannerRotFlechas arrow arrow-prev">
  </span>
  <span NgxCarouselNext class="gtmBannerRotFlechas arrow arrow-next">
  </span>
</ngx-carousel>
<section class="container d-flex">
  <ngx-carousel class="carousel-theme desktop banner-home container" *ngIf="showBanner && !configFiltersSubcategory"
    [inputs]="carouselConfig">
    <ngx-item NgxCarouselItem>
      <div class="item-banner">
        <img src="../../assets/img/banner/static-two.png">
      </div>
    </ngx-item>
    <ngx-item NgxCarouselItem *ngFor="let image of imagesBanner">
      <div
        [ngClass]="{'gtmSliderSufiSimuladorCProductos': image['url-photo-desktop'] && image['url-photo-desktop'].includes('NOLIBERESLOBESTIA'),
      'gtmSliderColombiaQrProductos': image['url-photo-desktop'] && image['url-photo-desktop'].includes('PERSONAS_PREMIADO'),
      'gtmSliderAgrTranqComprarMiSoat': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_sufi_soat'),
      'gtmSliderDisfrazHalloween': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_halloween'),
      'gtmProductosSufiSliderFeriaVehiculosSufi': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_tienda_sufi'),
      'gtmSliderMisAliadosInmuebles': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_mis_aliados'),
      'gtmSliderOfertasTiendaCorporativa': image['url-photo-desktop'] && image['url-photo-desktop'].includes('DescuentoDesktop')}"
        class="item-banner">
        <a [ngClass]="{'gtmSliderSufiSimuladorCProductos': image['url-photo-desktop'] && image['url-photo-desktop'].includes('NOLIBERESLOBESTIA'),
      'gtmSliderColombiaQrProductos': image['url-photo-desktop'] && image['url-photo-desktop'].includes('PERSONAS_PREMIADO'),
      'gtmSliderAgrTranqComprarMiSoat': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_sufi_soat'),
      'gtmSliderDisfrazHalloween': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_halloween'),
      'gtmProductosSufiSliderFeriaVehiculosSufi': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_tienda_sufi'),
      'gtmSliderMisAliadosInmuebles': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_mis_aliados'),
      'gtmSliderOfertasTiendaCorporativa': image['url-photo-desktop'] && image['url-photo-desktop'].includes('DescuentoDesktop')}"
          target="_blank" *ngIf="image['link'] && 0>image['url-photo-desktop'].indexOf('SOAT')" [href]="image['link']">
          <img
            [ngClass]="{'gtmSliderSufiSimuladorCProductos': image['url-photo-desktop'] && image['url-photo-desktop'].includes('NOLIBERESLOBESTIA'),
      'gtmSliderColombiaQrProductos': image['url-photo-desktop'] && image['url-photo-desktop'].includes('PERSONAS_PREMIADO'),
      'gtmSliderAgrTranqComprarMiSoat': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_sufi_soat'),
      'gtmSliderDisfrazHalloween': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_halloween'),
      'gtmProductosSufiSliderFeriaVehiculosSufi': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_tienda_sufi'),
      'gtmSliderMisAliadosInmuebles': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_mis_aliados'),
      'gtmSliderOfertasTiendaCorporativa': image['url-photo-desktop'] && image['url-photo-desktop'].includes('DescuentoDesktop')}"
            [src]="image['url-photo-desktop']">
        </a>
        <img
          [ngClass]="{'gtmSliderSufiSimuladorCProductos': image['url-photo-desktop'] && image['url-photo-desktop'].includes('NOLIBERESLOBESTIA'),
      'gtmSliderColombiaQrProductos': image['url-photo-desktop'] && image['url-photo-desktop'].includes('PERSONAS_PREMIADO'),
      'gtmSliderAgrTranqComprarMiSoat': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_sufi_soat'),
      'gtmSliderDisfrazHalloween': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_halloween'),
      'gtmProductosSufiSliderFeriaVehiculosSufi': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_tienda_sufi'),
      'gtmSliderMisAliadosInmuebles': image['url-photo-desktop'] && image['url-photo-desktop'].includes('banner_mis_aliados'),
      'gtmSliderOfertasTiendaCorporativa': image['url-photo-desktop'] && image['url-photo-desktop'].includes('DescuentoDesktop')}"
          *ngIf="!image['link'] && 0>image['url-photo-desktop'].indexOf('SOAT')" [src]="image['url-photo-desktop']">
        <a target="_blank" *ngIf="image['url-photo-desktop'].indexOf('SOAT')>=0" [href]="image['link']">
          <img class="gtmSliderSoatNProductos" [src]="image['url-photo-desktop']">
        </a>
      </div>
    </ngx-item>
    <span NgxCarouselPrev class="arrow-container left">
      <span class="gtmBannerRotFlechas arrow arrow-prev">
      </span>
    </span>
    <span NgxCarouselNext class="arrow-container right">
      <span class="gtmBannerRotFlechas arrow arrow-next">
      </span>
    </span>
  </ngx-carousel>
  <div class="banner-section">
    <img src="../../assets/img/banner/static-one.png">
    <img src="../../assets/img/banner/static-three.png">
  </div>
</section>

<carousel-product *ngIf="featuredproducts.length != 0 && showBanner && !configFiltersSubcategory"
  [products]="featuredproducts" [imgRoute]="'../../assets/img/estrella.gif'" [title]="'Artículos destacados'">
</carousel-product>

<div *ngIf="showBannerToShop && showBanner && !configFiltersSubcategory" class="featured-section bancolombia-site">
  <div class="featured-container">
    <div class="header-featured">
      <h3>
        Conoce la tienda Bancolombia
      </h3>
    </div>
    <img class="desktop gtmTiendaBancolombiaClicAqui" (click)="goToBancolombiaShop()"
      src="../../assets/img/banner/img_banner_tienda.jpg" alt="micrositio bancolombia">
    <img class="mobile gtmTiendaBancolombiaClicAqui" (click)="goToBancolombiaShop()"
      src="../../assets/img/banner/mobile/banner_mobile.gif" alt="micrositio bancolombia">
  </div>
</div>

<carousel-product *ngIf="productsBancolombia && showBanner && !configFiltersSubcategory"
  [products]="productsBancolombia" [imgRoute]="'../../assets/img/iconos/ic_bancolombia.png'"
  [title]="'¡Realiza tus compras con el nuevo botón transferencia Bancolombia!'"></carousel-product>

<div>
  <div class="container-spinner" *ngIf="isSpinnerShow">
    <custom-spinner></custom-spinner>
  </div>
  <div class="msg-no-products" *ngIf="showAnyProductsMessage">
    ¡Aún no tenemos productos en esta categoría! Por favor busca nuevamente.
  </div>
  <div [ngStyle]="{'padding-top':!productsBancolombia || productsBancolombia && productsBancolombia.length <= 0 ? '25px' : '1rem',
  'min-height':showAnyProductsMessage ? '0' : '480px' }" class="container-masonry">
    <div class="list">
      <div class="masonry">
        <div class="grid-item">
          <product #productsEnd
            *ngFor="let product of products | paginate: { itemsPerPage: 24, currentPage: pageNumber, totalItems: totalPages }"
            class="product-feed"
            [ngClass]="product && product.product_status === 'sell_process' ? 'deactivated-photo' : ''"
            [isProductSelling]="false" [showField]="true" [product]="product"
            (selected)="selectProduct($event); setScroll($event)"
            [colourCompany]="product['seller_company_color']  ? product['seller_company_color'] : '#FF3646'"
            id="{{product.product_id}}">
          </product>
        </div>
      </div>
      <pagination-controls *ngIf="showPagination" class="has-text-centered" responsive="true" previousLabel="Anterior"
        nextLabel="Siguiente" (pageChange)="getPage($event)">
      </pagination-controls>
    </div>
  </div>
</div>
<custom-footer></custom-footer>